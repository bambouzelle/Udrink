{"ast":null,"code":"import SearchBar from '@/components/SearchBar.vue';\nimport IngredientCard from '@/components/IngredientCard.vue';\nimport AjouteurInput from '@/components/Ajouteur.vue';\nexport default {\n  name: \"IngredientsView\",\n  created() {\n    this.getApiData();\n  },\n  components: {\n    SearchBar,\n    IngredientCard,\n    AjouteurInput\n  },\n  data() {\n    return {\n      ing: {},\n      searchValue: \"\"\n    };\n  },\n  methods: {\n    async getApiData() {\n      const API_URL = 'http://127.0.0.1:8000';\n      const url = `${API_URL}/ingredients`;\n      const T = this;\n      var myHeaders = new Headers();\n      myHeaders.append(\"Access-Control-Allow-Origin\", \"*\");\n      var requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n      };\n      fetch(url, requestOptions).then(response => response.text()).then(function (result) {\n        let data = JSON.parse(result).results;\n        data.forEach(element => {\n          T.$store.dispatch('addIngredient', element);\n        });\n      }).catch(error => console.log('error', error));\n    },\n    checkIngredient(ing) {\n      this.searchValue = ing.toLowerCase();\n    },\n    add(ingredient) {\n      this.$store.dispatch('addIngredientPerso', ingredient);\n    }\n  },\n  computed: {\n    filteredList() {\n      if (this.searchValue == \"\") {\n        return [];\n      }\n      return this.$store.state.listeIngredients.filter(element => element.nom.toLowerCase().includes(this.searchValue));\n    }\n  }\n};","map":{"version":3,"names":["SearchBar","IngredientCard","AjouteurInput","name","created","getApiData","components","data","ing","searchValue","methods","API_URL","url","T","myHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","then","response","text","result","JSON","parse","results","forEach","element","$store","dispatch","catch","error","console","log","checkIngredient","toLowerCase","add","ingredient","computed","filteredList","state","listeIngredients","filter","nom","includes"],"sources":["C:\\code\\Udrink\\udrinkfront\\src\\views\\Ingredients.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<h1 style=\"margin-top: 1em;\">Ingredients</h1>\r\n\t\t</div>\r\n\t\t<div class=\"row\" style=\"margin-top:2em; margin-bottom: 3em;\">\r\n\t\t\t<SearchBar v-on:checkIng=\"checkIngredient\"/>\r\n\t\t</div>\r\n\t\t<div v-for=\"ingredient in filteredList\" :key=\"ingredient\">\r\n\t\t\t<IngredientCard :ingredient=\"ingredient\" />\r\n\t\t</div>\r\n\t\t<h2>Mes ingredients</h2>\r\n\t\t<div v-for=\"ingredient in $store.state.listeIngredientsPerso\" class=\"row\" :key=\"ingredient.name\">\r\n\t\t\t<IngredientCard :ingredient=\"ingredient\" />\r\n\t\t</div>\r\n\t\t<div class=\"row justify-content-center\">\r\n\t\t\t<AjouteurInput />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar.vue';\r\nimport IngredientCard from '@/components/IngredientCard.vue';\r\nimport AjouteurInput from '@/components/Ajouteur.vue';\r\n\r\nexport default {\r\n\tname: \"IngredientsView\",\r\n\tcreated() {\r\n\t\tthis.getApiData()\r\n\t},\r\n\tcomponents: { SearchBar, IngredientCard, AjouteurInput },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ting: {},\r\n\t\t\tsearchValue: \"\",\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getApiData() {\r\n\t\t\tconst API_URL = 'http://127.0.0.1:8000'\r\n\t\t\tconst url = `${API_URL}/ingredients`\r\n\t\t\tconst T = this;\r\n\t\t\tvar myHeaders = new Headers();\r\n\t\t\tmyHeaders.append(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n\t\t\tvar requestOptions = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: myHeaders,\r\n\t\t\t\tredirect: 'follow'\r\n\t\t\t};\r\n\r\n\t\t\tfetch(url, requestOptions)\r\n\t\t\t\t.then(response => response.text())\r\n\t\t\t\t.then(function (result) {\r\n\t\t\t\t\tlet data = JSON.parse(result).results\r\n\t\t\t\t\tdata.forEach(element => {\r\n\t\t\t\t\t\tT.$store.dispatch('addIngredient', element)\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.log('error', error));\r\n\t\t},\r\n\r\n\t\tcheckIngredient(ing){\r\n\t\t\tthis.searchValue = ing.toLowerCase() \r\n\t\t},\r\n\t\tadd(ingredient){\r\n\t\t\tthis.$store.dispatch('addIngredientPerso', ingredient)\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t\tfilteredList() {\r\n\t\t\t\tif (this.searchValue == \"\"){\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$store.state.listeIngredients.filter((element) => element.nom.toLowerCase().includes(this.searchValue))\r\n\t\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped></style>"],"mappings":"AAuBA,OAAOA,SAAQ,MAAO,4BAA4B;AAClD,OAAOC,cAAa,MAAO,iCAAiC;AAC5D,OAAOC,aAAY,MAAO,2BAA2B;AAErD,eAAe;EACdC,IAAI,EAAE,iBAAiB;EACvBC,OAAOA,CAAA,EAAG;IACT,IAAI,CAACC,UAAU,EAAC;EACjB,CAAC;EACDC,UAAU,EAAE;IAAEN,SAAS;IAAEC,cAAc;IAAEC;EAAc,CAAC;EACxDK,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,GAAG,EAAE,CAAC,CAAC;MACPC,WAAW,EAAE;IACd;EACD,CAAC;EACDC,OAAO,EAAE;IACR,MAAML,UAAUA,CAAA,EAAG;MAClB,MAAMM,OAAM,GAAI,uBAAsB;MACtC,MAAMC,GAAE,GAAK,GAAED,OAAQ,cAAY;MACnC,MAAME,CAAA,GAAI,IAAI;MACd,IAAIC,SAAQ,GAAI,IAAIC,OAAO,EAAE;MAC7BD,SAAS,CAACE,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC;MAEpD,IAAIC,cAAa,GAAI;QACpBC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAEL,SAAS;QAClBM,QAAQ,EAAE;MACX,CAAC;MAEDC,KAAK,CAACT,GAAG,EAAEK,cAAc,EACvBK,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,EAAE,EAChCF,IAAI,CAAC,UAAUG,MAAM,EAAE;QACvB,IAAIlB,IAAG,GAAImB,IAAI,CAACC,KAAK,CAACF,MAAM,CAAC,CAACG,OAAM;QACpCrB,IAAI,CAACsB,OAAO,CAACC,OAAM,IAAK;UACvBjB,CAAC,CAACkB,MAAM,CAACC,QAAQ,CAAC,eAAe,EAAEF,OAAO;QAC3C,CAAC,CAAC;MACH,CAAC,EACAG,KAAK,CAACC,KAAI,IAAKC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,KAAK,CAAC,CAAC;IAC9C,CAAC;IAEDG,eAAeA,CAAC7B,GAAG,EAAC;MACnB,IAAI,CAACC,WAAU,GAAID,GAAG,CAAC8B,WAAW,EAAC;IACpC,CAAC;IACDC,GAAGA,CAACC,UAAU,EAAC;MACd,IAAI,CAACT,MAAM,CAACC,QAAQ,CAAC,oBAAoB,EAAEQ,UAAU;IACtD;EACD,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACd,IAAI,IAAI,CAACjC,WAAU,IAAK,EAAE,EAAC;QAC1B,OAAO,EAAC;MACT;MACA,OAAO,IAAI,CAACsB,MAAM,CAACY,KAAK,CAACC,gBAAgB,CAACC,MAAM,CAAEf,OAAO,IAAKA,OAAO,CAACgB,GAAG,CAACR,WAAW,EAAE,CAACS,QAAQ,CAAC,IAAI,CAACtC,WAAW,CAAC;IACnH;EACF;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}