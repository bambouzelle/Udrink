{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"row\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", {\n  style: {\n    \"margin-top\": \"1em\"\n  }\n}, \"Ingredients\")], -1);\nconst _hoisted_3 = {\n  class: \"row\",\n  style: {\n    \"margin-top\": \"2em\",\n    \"margin-bottom\": \"3em\"\n  }\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Mes ingredients\", -1);\nconst _hoisted_5 = {\n  class: \"row justify-content-center\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SearchBar = _resolveComponent(\"SearchBar\");\n  const _component_IngredientCard = _resolveComponent(\"IngredientCard\");\n  const _component_AjouteurInput = _resolveComponent(\"AjouteurInput\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_SearchBar, {\n    onCheckIng: $options.checkIngredient\n  }, null, 8, [\"onCheckIng\"])]), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredList, ingredient => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: ingredient\n    }, [_createVNode(_component_IngredientCard, {\n      ingredient: ingredient\n    }, null, 8, [\"ingredient\"])]);\n  }), 128)), _hoisted_4, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.$store.state.listeIngredientsPerso, ingredient => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"row\",\n      key: ingredient.name\n    }, [_createVNode(_component_IngredientCard, {\n      ingredient: ingredient\n    }, null, 8, [\"ingredient\"])]);\n  }), 128)), _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_AjouteurInput)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_SearchBar","onCheckIng","$options","checkIngredient","_Fragment","_renderList","filteredList","ingredient","key","_component_IngredientCard","_hoisted_4","_ctx","$store","state","listeIngredientsPerso","name","_hoisted_5","_component_AjouteurInput"],"sources":["C:\\code\\Udrink\\udrinkfront\\src\\views\\Ingredients.vue"],"sourcesContent":["<!-- eslint-disable vue/multi-word-component-names -->\r\n<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<h1 style=\"margin-top: 1em;\">Ingredients</h1>\r\n\t\t</div>\r\n\t\t<div class=\"row\" style=\"margin-top:2em; margin-bottom: 3em;\">\r\n\t\t\t<SearchBar v-on:checkIng=\"checkIngredient\"/>\r\n\t\t</div>\r\n\t\t<div v-for=\"ingredient in filteredList\" :key=\"ingredient\">\r\n\t\t\t<IngredientCard :ingredient=\"ingredient\" />\r\n\t\t</div>\r\n\t\t<h2>Mes ingredients</h2>\r\n\t\t<div v-for=\"ingredient in $store.state.listeIngredientsPerso\" class=\"row\" :key=\"ingredient.name\">\r\n\t\t\t<IngredientCard :ingredient=\"ingredient\" />\r\n\t\t</div>\r\n\t\t<div class=\"row justify-content-center\">\r\n\t\t\t<AjouteurInput />\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from '@/components/SearchBar.vue';\r\nimport IngredientCard from '@/components/IngredientCard.vue';\r\nimport AjouteurInput from '@/components/Ajouteur.vue';\r\n\r\nexport default {\r\n\tname: \"IngredientsView\",\r\n\tcreated() {\r\n\t\tthis.getApiData()\r\n\t},\r\n\tcomponents: { SearchBar, IngredientCard, AjouteurInput },\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\ting: {},\r\n\t\t\tsearchValue: \"\",\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tasync getApiData() {\r\n\t\t\tconst API_URL = 'http://127.0.0.1:8000'\r\n\t\t\tconst url = `${API_URL}/ingredients`\r\n\t\t\tconst T = this;\r\n\t\t\tvar myHeaders = new Headers();\r\n\t\t\tmyHeaders.append(\"Access-Control-Allow-Origin\", \"*\");\r\n\r\n\t\t\tvar requestOptions = {\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\theaders: myHeaders,\r\n\t\t\t\tredirect: 'follow'\r\n\t\t\t};\r\n\r\n\t\t\tfetch(url, requestOptions)\r\n\t\t\t\t.then(response => response.text())\r\n\t\t\t\t.then(function (result) {\r\n\t\t\t\t\tlet data = JSON.parse(result).results\r\n\t\t\t\t\tdata.forEach(element => {\r\n\t\t\t\t\t\tT.$store.dispatch('addIngredient', element)\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => console.log('error', error));\r\n\t\t},\r\n\r\n\t\tcheckIngredient(ing){\r\n\t\t\tthis.searchValue = ing.toLowerCase() \r\n\t\t},\r\n\t\tadd(ingredient){\r\n\t\t\tthis.$store.dispatch('addIngredientPerso', ingredient)\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t\tfilteredList() {\r\n\t\t\t\tif (this.searchValue == \"\"){\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t\treturn this.$store.state.listeIngredients.filter((element) => element.nom.toLowerCase().includes(this.searchValue))\r\n\t\t\t},\r\n\t}\r\n}\r\n</script>\r\n\r\n<style scoped></style>"],"mappings":";;EAEMA,KAAK,EAAC;AAAW;gCACrBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAK,I,aACfC,mBAAA,CAA6C;EAAzCC,KAAwB,EAAxB;IAAA;EAAA;AAAwB,GAAC,aAAW,E;;EAEpCF,KAAK,EAAC,KAAK;EAACE,KAA2C,EAA3C;IAAA;IAAA;EAAA;;gCAMjBD,mBAAA,CAAwB,YAApB,iBAAe;;EAIdD,KAAK,EAAC;AAA4B;;;;;uBAdxCG,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBLC,UAEM,EACNJ,mBAAA,CAEM,OAFNK,UAEM,GADLC,YAAA,CAA4CC,oBAAA;IAA5BC,UAAQ,EAAEC,QAAA,CAAAC;EAAe,4B,sBAE1CR,mBAAA,CAEMS,SAAA,QAAAC,WAAA,CAFoBH,QAAA,CAAAI,YAAY,EAA1BC,UAAU;yBAAtBZ,mBAAA,CAEM;MAFmCa,GAAG,EAAED;IAAU,IACvDR,YAAA,CAA2CU,yBAAA;MAA1BF,UAAU,EAAEA;IAAU,4B;aAExCG,UAAwB,G,kBACxBf,mBAAA,CAEMS,SAAA,QAAAC,WAAA,CAFoBM,IAAA,CAAAC,MAAM,CAACC,KAAK,CAACC,qBAAqB,EAAhDP,UAAU;yBAAtBZ,mBAAA,CAEM;MAFwDH,KAAK,EAAC,KAAK;MAAEgB,GAAG,EAAED,UAAU,CAACQ;QAC1FhB,YAAA,CAA2CU,yBAAA;MAA1BF,UAAU,EAAEA;IAAU,4B;aAExCd,mBAAA,CAEM,OAFNuB,UAEM,GADLjB,YAAA,CAAiBkB,wBAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}